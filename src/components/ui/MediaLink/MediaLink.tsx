import { Defined } from '@xenopomp/advanced-types';
import cn from 'classnames';
import Link from 'next/link';
import { FC, ReactNode } from 'react';

import styles from './MediaLink.module.scss';
import type { MediaLinkProps } from './MediaLink.props';

const MediaLink: FC<MediaLinkProps> = ({
  className,
  icon,
  variant = 'default',
  ...props
}) => {
  const iconDict: Record<Defined<typeof icon>, ReactNode> = {
    github: (
      <>
        <svg viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'>
          <g clipPath='url(#clip0_12_22)'>
            <path
              d='M15 0.371246C6.7125 0.371246 0 7.0875 0 15.3712C0 22 4.2975 27.6212 10.2563 29.6025C11.0063 29.7437 11.2812 29.28 11.2812 28.8812C11.2812 28.525 11.2688 27.5812 11.2625 26.3312C7.09 27.2362 6.21 24.3187 6.21 24.3187C5.5275 22.5875 4.54125 22.125 4.54125 22.125C3.1825 21.195 4.64625 21.2137 4.64625 21.2137C6.1525 21.3187 6.94375 22.7587 6.94375 22.7587C8.28125 25.0525 10.455 24.39 11.3125 24.0062C11.4475 23.0362 11.8338 22.375 12.2625 22C8.93125 21.625 5.43 20.335 5.43 14.5875C5.43 12.95 6.01125 11.6125 6.97375 10.5625C6.805 10.1837 6.29875 8.65875 7.105 6.5925C7.105 6.5925 8.36125 6.19 11.23 8.13C12.43 7.79625 13.705 7.63125 14.98 7.62375C16.255 7.63125 17.53 7.79625 18.73 8.13C21.58 6.19 22.8362 6.5925 22.8362 6.5925C23.6425 8.65875 23.1362 10.1837 22.9862 10.5625C23.9425 11.6125 24.5238 12.95 24.5238 14.5875C24.5238 20.35 21.0175 21.6187 17.68 21.9875C18.205 22.4375 18.6925 23.3575 18.6925 24.7625C18.6925 26.77 18.6737 28.3825 18.6737 28.87C18.6737 29.2637 18.9363 29.7325 19.705 29.5825C25.7062 27.615 30 21.99 30 15.3712C30 7.0875 23.2838 0.371246 15 0.371246Z'
              fill='currentColor'
            />
          </g>
          <defs>
            <clipPath id='clip0_12_22'>
              <rect width='30' height='30' fill='white' />
            </clipPath>
          </defs>
        </svg>
      </>
    ),
    hh: (
      <>
        <svg viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'>
          <path
            fillRule='evenodd'
            clipRule='evenodd'
            d='M23.9229 21.4514H21.5099V16.5374C21.5099 15.5624 21.4651 14.9444 21.3709 14.682C21.2812 14.4181 21.1197 14.2109 20.8865 14.058C20.6578 13.9005 20.3663 13.8225 20.0164 13.8225C19.6173 13.8225 19.2585 13.923 18.9445 14.1225C18.6306 14.3221 18.3996 14.6206 18.2539 15.0195C18.1081 15.42 18.0363 16.0109 18.0363 16.7926V21.4514H15.6234V8.23058H18.0363V13.3334C18.8122 12.4064 19.7429 11.94 20.8237 11.94C21.3776 11.94 21.8777 12.0465 22.3262 12.258C22.7725 12.4665 23.1066 12.7365 23.3331 13.0619C23.5596 13.3906 23.7143 13.7519 23.7973 14.1495C23.8803 14.5439 23.9229 15.1606 23.9229 15.9961V21.4514ZM14.4169 21.4514H12.004V16.5374C12.004 15.5624 11.9614 14.9444 11.8673 14.682C11.7753 14.4181 11.6161 14.2109 11.3829 14.058C11.1496 13.9005 10.8604 13.8225 10.5105 13.8225C10.1114 13.8225 9.75482 13.923 9.44088 14.1225C9.12468 14.3221 8.8937 14.6206 8.74794 15.0195C8.60218 15.42 8.52817 16.0109 8.53041 16.7926L8.52818 21.4514H6.1175V8.23058H8.53041V13.3334C9.30631 12.4064 10.2392 11.94 11.3178 11.94C11.874 11.94 12.3741 12.0465 12.8203 12.258C13.2688 12.4665 13.6029 12.7365 13.8294 13.0619C14.0582 13.3906 14.2106 13.7519 14.2936 14.1495C14.3766 14.5439 14.4169 15.1606 14.4169 15.9961V21.4514ZM15 1.90735e-06C6.714 1.90735e-06 0 6.7156 0 15C0 23.2844 6.714 30 15 30C23.2837 30 30 23.2844 30 15C30 6.7156 23.2837 1.90735e-06 15 1.90735e-06Z'
            fill='currentColor'
          />
        </svg>
      </>
    ),
  };

  const stylesDict: Record<
    Defined<typeof variant>,
    {
      className?: string;
    }
  > = {
    default: {},
    footer: {
      className: cn(styles.footerLike),
    },
  };

  return (
    <Link
      className={cn(styles.mediaLink, stylesDict[variant].className, className)}
      target={'_blank'}
      {...props}
    >
      {icon ? iconDict[icon] : '?'}
    </Link>
  );
};

export default MediaLink;
